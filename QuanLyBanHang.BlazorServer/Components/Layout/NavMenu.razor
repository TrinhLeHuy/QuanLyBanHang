@using QuanLyBanHang.BlazorServer.Models
@inject NavigationManager Navigation
@using QuanLyBanHang.BlazorServer.Services

<nav class="navbar navbar-expand-sm navbar-light bg-white border-bottom box-shadow mb-3">
    <div class="container-fluid">

        <a class="navbar-brand" href="/">QUẢN LÝ BÁN HÀNG</a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navMenu">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        <div class="collapse navbar-collapse" id="navMenu">

            <ul class="navbar-nav flex-grow-1">

                @if (Session.CurrentUserRole != "Customer")
                {
                    
                    <li class="nav-item"><NavLink class="nav-link" href="/products">Sản phẩm</NavLink></li>
                    <li class="nav-item"><NavLink class="nav-link" href="/customers">Khách hàng</NavLink></li>
                    <li class="nav-item"><NavLink class="nav-link" href="/categories">Danh mục</NavLink></li>
                    <li class="nav-item"><NavLink class="nav-link" href="/orders">Đơn hàng</NavLink></li>
                    <li class="nav-item"><NavLink class="nav-link" href="/pos">💰 POS</NavLink></li>
                    @* <li class="nav-item"><NavLink class="nav-link" href="/shop">Cửa hàng</NavLink></li> *@
                   
                    <li class="nav-item"><NavLink class="nav-link" href="/employees">Nhân viên</NavLink></li>
                    @* <li class="nav-item"><NavLink class="nav-link" href="/statistics">Thống kê</NavLink></li> *@
                    <li class="nav-item"><NavLink class="nav-link" href="/warehouses">Kho hàng</NavLink></li>
                    <li class="nav-item"><NavLink class="nav-link" href="/suppliers">Nhà cung cấp</NavLink></li>
                    <li class="nav-item"><NavLink class="nav-link" href="/vouchers">Giảm giá</NavLink></li>
                    <li class="nav-item"><NavLink class="nav-link" href="/inventory/import">Nhập kho   </NavLink></li>
                    <li class="nav-item"><NavLink class="nav-link" href="/inventory/stock">Xem tồn kho</NavLink></li>
                    <li class="nav-item"><NavLink class="nav-link" href="/inventory/transactions">Lịch sử</NavLink></li>
                    
                }
                @* else *@
                @* { *@
                    @* <li class="nav-item"><NavLink class="nav-link" href="/">Trang chủ</NavLink></li>
                    <li class="nav-item"><NavLink class="nav-link" href="/products">Sản phẩm</NavLink></li>
                    <li class="nav-item"><NavLink class="nav-link" href="/order">Bán hàng</NavLink></li>
                    <li class="nav-item"><NavLink class="nav-link" href="/inventory/stock">Xem tồn kho</NavLink></li>
                } *@
            </ul>

            <ul class="navbar-nav">
                <li class="nav-item">
                    <span class="nav-link text-muted">

                        Xin chào <strong>@Session.CurrentUserId</strong> (@Session.CurrentUserRole)
                    </span>
                </li>

                <li class="nav-item">
                    <button class="btn btn-link nav-link" @onclick="Logout">
                        Đăng xuất
                    </button>
                </li>
            </ul>

        </div>
    </div>
</nav>

@code {
    void Logout()
    {
        Session.Logout();
        Navigation.NavigateTo("/login", true);
    }
}
